# Zero Trust AI Innovations - Production Environment Template
# Copy this file to .env and fill in the values

################################################################################
# Flask Configuration
################################################################################
FLASK_ENV=production
SECRET_KEY=<GENERATE_WITH: python3 -c "import secrets; print(secrets.token_hex(32))">
DEBUG=False
TESTING=False

################################################################################
# Firebase Configuration
################################################################################
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CREDENTIALS_PATH=/opt/zerotrust/backend/firebase-credentials.json
FIREBASE_API_KEY=your-firebase-api-key
FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
FIREBASE_STORAGE_BUCKET=your-project.appspot.com

################################################################################
# Redis Configuration
################################################################################
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=<GENERATE_WITH: openssl rand -base64 32>
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50

################################################################################
# RabbitMQ Configuration
################################################################################
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=zerotrust
RABBITMQ_PASSWORD=<GENERATE_WITH: openssl rand -base64 32>
RABBITMQ_VHOST=/

################################################################################
# Celery Configuration
################################################################################
CELERY_BROKER_URL=amqp://zerotrust:<RABBITMQ_PASSWORD>@localhost:5672//
CELERY_RESULT_BACKEND=redis://:<REDIS_PASSWORD>@localhost:6379/1
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=True

################################################################################
# Blockchain Configuration
################################################################################
ETHEREUM_RPC_URL=http://localhost:8545
ETHEREUM_NETWORK_ID=1337
ETHEREUM_PRIVATE_KEY=<YOUR_ETHEREUM_PRIVATE_KEY>
CONTRACT_ADDRESS=<DEPLOYED_CONTRACT_ADDRESS>
GAS_LIMIT=3000000
GAS_PRICE=20000000000

################################################################################
# IPFS Configuration
################################################################################
IPFS_API_URL=http://localhost:5001
IPFS_GATEWAY_URL=https://ipfs.io/ipfs/
IPFS_PIN_ENABLED=true

################################################################################
# Claude API Configuration
################################################################################
CLAUDE_API_KEY=<YOUR_CLAUDE_API_KEY>
CLAUDE_MODEL=claude-3-5-sonnet-20241022
CLAUDE_MAX_TOKENS=1024
CLAUDE_TEMPERATURE=0.7

################################################################################
# External APIs
################################################################################
# IP Reputation
ABUSEIPDB_API_KEY=<YOUR_ABUSEIPDB_KEY>
IPQUALITYSCORE_API_KEY=<YOUR_IPQS_KEY>

# Geolocation
MAXMIND_LICENSE_KEY=<YOUR_MAXMIND_KEY>
MAXMIND_ACCOUNT_ID=<YOUR_MAXMIND_ACCOUNT_ID>

################################################################################
# ML Configuration
################################################################################
ML_MODEL_PATH=/opt/zerotrust/ml_models
GPU_ENABLED=true
CUDA_VISIBLE_DEVICES=0
TF_FORCE_GPU_ALLOW_GROWTH=true
BEHAVIORAL_MODEL_VERSION=1.0.0
THREAT_MODEL_VERSION=1.0.0

# Model Training
BEHAVIORAL_BASELINE_DAYS=14
MODEL_RETRAIN_INTERVAL_DAYS=30
MIN_TRAINING_SAMPLES=1000

# Risk Scoring
RISK_SCORE_UPDATE_INTERVAL=30
BEHAVIORAL_WEIGHT=0.40
CONTEXTUAL_WEIGHT=0.35
TIME_WEIGHT=0.15
HISTORICAL_WEIGHT=0.10

################################################################################
# Security Configuration
################################################################################
JWT_SECRET_KEY=<GENERATE_WITH: python3 -c "import secrets; print(secrets.token_urlsafe(64))">
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRES=3600
JWT_REFRESH_TOKEN_EXPIRES=2592000

SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Strict
SESSION_COOKIE_DOMAIN=.zerotrust.example.com

# Password Policy
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGITS=true
PASSWORD_REQUIRE_SPECIAL=true

################################################################################
# Rate Limiting
################################################################################
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STORAGE_URL=redis://:<REDIS_PASSWORD>@localhost:6379/2

# Endpoint-specific limits
RATE_LIMIT_BEHAVIORAL_CAPTURE=120 per hour
RATE_LIMIT_SECURITY_REPORT=10 per hour
RATE_LIMIT_ASSISTANT_CHAT=60 per hour
RATE_LIMIT_API_DEFAULT=100 per minute

################################################################################
# Monitoring and Logging
################################################################################
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=/var/log/zerotrust/backend.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=10

# Sentry
SENTRY_DSN=<YOUR_SENTRY_DSN>
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

################################################################################
# Email Configuration (for alerts)
################################################################################
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=alerts@zerotrust.example.com
SMTP_PASSWORD=<YOUR_SMTP_PASSWORD>
SMTP_USE_TLS=true
ALERT_EMAIL_FROM=alerts@zerotrust.example.com
ALERT_EMAIL_TO=security@zerotrust.example.com

################################################################################
# WebSocket Configuration
################################################################################
WEBSOCKET_PORT=5001
WEBSOCKET_PING_TIMEOUT=60
WEBSOCKET_PING_INTERVAL=25
WEBSOCKET_MAX_CONNECTIONS=1000

################################################################################
# Backup Configuration
################################################################################
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=/backup/zerotrust

################################################################################
# Feature Flags
################################################################################
FEATURE_BEHAVIORAL_BIOMETRICS=true
FEATURE_THREAT_PREDICTION=true
FEATURE_CONTEXTUAL_INTELLIGENCE=true
FEATURE_ADAPTIVE_POLICY=true
FEATURE_BLOCKCHAIN_AUDIT=true
FEATURE_SECURITY_ASSISTANT=true
FEATURE_TRAINING_SIMULATIONS=true
FEATURE_NETWORK_VISUALIZER=true

################################################################################
# Performance Tuning
################################################################################
GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=120
GUNICORN_KEEPALIVE=5

CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=4
CELERY_WORKER_MAX_TASKS_PER_CHILD=1000

################################################################################
# CORS Configuration
################################################################################
CORS_ORIGINS=https://zerotrust.example.com
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

################################################################################
# Database Connection Pooling
################################################################################
FIRESTORE_MAX_POOL_SIZE=100
FIRESTORE_TIMEOUT=30

################################################################################
# Cache Configuration
################################################################################
CACHE_TYPE=redis
CACHE_REDIS_URL=redis://:<REDIS_PASSWORD>@localhost:6379/3
CACHE_DEFAULT_TIMEOUT=300
CACHE_KEY_PREFIX=zerotrust:

# Model cache TTL (seconds)
BEHAVIORAL_MODEL_CACHE_TTL=3600
CONTEXTUAL_SCORE_CACHE_TTL=300
THREAT_PREDICTION_CACHE_TTL=1800

################################################################################
# Audit Configuration
################################################################################
AUDIT_LOG_ENABLED=true
AUDIT_LOG_LEVEL=INFO
BLOCKCHAIN_AUDIT_ENABLED=true
BLOCKCHAIN_BATCH_SIZE=10
BLOCKCHAIN_BATCH_INTERVAL=60

################################################################################
# Compliance
################################################################################
GDPR_ENABLED=true
DATA_RETENTION_DAYS=90
AUDIT_RETENTION_YEARS=7
ANONYMIZE_LOGS=true

################################################################################
# Development/Debug (Set to false in production)
################################################################################
FLASK_DEBUG=False
SQL_ECHO=False
PROFILE_ENABLED=False
